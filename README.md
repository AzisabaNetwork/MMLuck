# MMLuck

## 幸運アトリビュートでドロップ率を変動させるプラグイン。

主な用途としてはMob死亡時のスキルでアイテムドロップをこのコマンドを使用して行う。

実際のモブに入れるときは例えば
```yml
  Skills:
  - command{c=mlg <target.name> reido_ticket 3 0.67} @PlayersInRadius{r=35} ~onDeath
```
みたいにSkillsのところに入れるのがおすすめです。

## 使い方

- ``/mlg MCID MMアイテムID 基礎ドロップ数 確率``
MMアイテムIDにはMMでの内部IDを、基礎ドロップ数には正の整数を、確率には0.000-1.000の値を入れてください。  
幸運上昇レベル10のオフハンドアイテム（内部データLUCK+10）だとドロップ率が通常の1.1倍されるので、ドロップ確率がコマンドにいれた確率 x 1.1倍になります。  
例1： ``/mlg Mori01231 adamantite 1 0.5`` というコマンドで、Mori01231がLUCK10（オフハンドの運上昇1相当。ドロップ確率が1.1倍）だった場合、ドロップ確率50% x 1.1 = 55%になります。55%の確率で1個ドロップします。  
例2： ``/mlg Mori01231 adamantite 1 0.8`` というコマンドで、Mori01231がLUCK50（オフハンドの運上昇5相当。ドロップ確率が1.5倍）だった場合、ドロップ確率80% x 1.5 = 120%になります。ただし100%を超えたので100%の確率で1個ドロップします。  

- ``/mlgo MCID MMアイテムID 基礎ドロップ数 確率``
MMアイテムIDにはMMでの内部IDを、基礎ドロップ数には正の整数を、確率には0.000-1.000の値を入れてください
幸運上昇レベル10のオフハンドアイテム（内部データLUCK+10）だとドロップ率が通常の1.1倍されるので、ドロップ確率がコマンドにいれた確率 x 1.1倍になります。  
例1：``/mlg Mori01231 adamantite 1 0.5`` というコマンドで、Mori01231がLUCK10（オフハンドの運上昇1相当。ドロップ確率が1.1倍）だった場合、ドロップ確率50% x 1.1 = 55%になります。55%の確率で1個ドロップします。  
例2：``/mlg Mori01231 adamantite 1 0.8`` というコマンドで、Mori01231がLUCK50（オフハンドの運上昇5相当。ドロップ確率が1.5倍）だった場合、ドロップ確率80% x 1.5 = 120%になります。100%の確率で1個ドロップします。また、120%-100%=20%余っているので、20%の確率で+1個ドロップし、合計2個のドロップとなります。  
例3：``/mlg Mori01231 adamantite 5 0.8`` というコマンドで、Mori01231がLUCK160（オフハンドの運上昇16相当。ドロップ確率が2.6倍）だった場合、ドロップ確率80% x 2.6 = 208%になります。100%の確率で2個ドロップします。また、208%-200%=8%余っているので、8%の確率で+5個ドロップし、合計7個のドロップとなります。  
